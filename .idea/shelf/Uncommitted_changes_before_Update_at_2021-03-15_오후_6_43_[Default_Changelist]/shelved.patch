Index: app/src/main/res/layout/activity_select_board.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".SelectBoardActivity\"\r\n    android:padding=\"30dp\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView7\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"게시판\"\r\n        android:textAlignment=\"center\"\r\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Display2\"\r\n        android:gravity=\"center_horizontal\" />\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <Button\r\n                android:id=\"@+id/select_board_btn_del\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"삭제\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/select_board_btn_save\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"right\"\r\n                android:text=\"저장\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/select_board_title_text\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:hint=\"Title\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"24sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/select_board_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"pet_naem\"\r\n                android:textSize=\"14sp\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/select_board_contents_text\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:hint=\"Contents\"\r\n                android:textSize=\"18sp\" />\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_select_board.xml	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/res/layout/activity_select_board.xml	(date 1615790072710)
@@ -27,10 +27,18 @@
             android:layout_height="wrap_content"
             android:orientation="horizontal">
 
+            <Button
+                android:id="@+id/select_img_btn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:text="사진변경" />
+
             <Button
                 android:id="@+id/select_board_btn_del"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
+                android:layout_weight="1"
                 android:text="삭제" />
 
             <Button
@@ -38,7 +46,9 @@
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:layout_gravity="right"
+                android:layout_weight="1"
                 android:text="저장" />
+
         </LinearLayout>
 
         <LinearLayout
@@ -67,6 +77,12 @@
             android:layout_height="match_parent"
             android:orientation="vertical">
 
+            <ImageView
+                android:id="@+id/select_img_view"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                app:srcCompat="@drawable/dogfoot" />
+
             <EditText
                 android:id="@+id/select_board_contents_text"
                 android:layout_width="match_parent"
Index: app/src/main/java/animalapp/info/NoticeActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package animalapp.info;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.view.menu.MenuView;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.media.audiofx.NoiseSuppressor;\r\nimport android.os.Bundle;\r\nimport android.view.ContextMenu;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentChange;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Dictionary;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class NoticeActivity extends AppCompatActivity {\r\n\r\n    private FirebaseFirestore db;\r\n    private RecyclerView mNoticeRecyclerView;\r\n    private FloatingActionButton notice_write_btn;\r\n    private RecyclerView.LayoutManager mLayoutmanager;\r\n    private NoticeAdapter mNoticeAdapter;\r\n    private List<Board> mBoardList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_notice);\r\n\r\n        mNoticeRecyclerView = (RecyclerView)findViewById(R.id.notice_recycler_view);\r\n        notice_write_btn = (FloatingActionButton) findViewById(R.id.notice_write_btn);\r\n\r\n        mLayoutmanager=new LinearLayoutManager(this);\r\n        mNoticeRecyclerView.setLayoutManager(mLayoutmanager);\r\n\r\n//        mBoardList.add(new Board(null,\"반갑습니다 여러분\",null,\"android\"));\r\n//        mBoardList.add(new Board(null,\"Hello\",null,\"server\"));\r\n//        mBoardList.add(new Board(null,\"ok\",null,\"php\"));\r\n//        mBoardList.add(new Board(null,\"zzz\",null,\"java\"));\r\n\r\n        notice_write_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(),WriteActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        mBoardList = new ArrayList<>();\r\n        db = FirebaseFirestore.getInstance();\r\n        db.collection(\"board\").orderBy(\"time\", Query.Direction.DESCENDING)\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                        if(value != null) {\r\n                            mBoardList.clear();\r\n                            for (DocumentSnapshot snapshot : value.getDocuments()) {\r\n\r\n                                Map<String, Object> shot = snapshot.getData();\r\n                                String id = (String) shot.get(\"id\");\r\n                                String title = (String) shot.get(\"title\");\r\n                                String contents = (String) shot.get(\"contents\");\r\n                                Board data = new Board(id, title, contents);\r\n\r\n                                mBoardList.add(data);\r\n                            }\r\n                            mNoticeAdapter = new NoticeAdapter(mBoardList);\r\n                            mNoticeRecyclerView.setAdapter(mNoticeAdapter);\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private class NoticeAdapter extends RecyclerView.Adapter<NoticeAdapter.NoticeViewHolder>{\r\n\r\n        private List<Board> mBoardList;\r\n\r\n        public NoticeAdapter(List<Board> mBoardList) {\r\n            this.mBoardList = mBoardList;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public NoticeAdapter.NoticeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            return new NoticeAdapter.NoticeViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_noice,parent,false));\r\n        }\r\n\r\n\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull NoticeAdapter.NoticeViewHolder holder, int position) {\r\n            Board data = mBoardList.get(position);\r\n            holder.mTitleTextView.setText(data.getTitle());\r\n            holder.mNameTextView.setText(\"작성자 : \"+data.getId());\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mBoardList.size();\r\n        }\r\n\r\n        class NoticeViewHolder extends RecyclerView.ViewHolder implements View.OnCreateContextMenuListener{\r\n\r\n            private TextView mTitleTextView;\r\n            private TextView mNameTextView;\r\n            public NoticeViewHolder(View itemView){\r\n                super(itemView);\r\n\r\n                mTitleTextView = itemView.findViewById(R.id.notice_item_title_text);\r\n                mNameTextView = itemView.findViewById(R.id.notice_item_name_text);\r\n\r\n//               if(mBoardList.get(pos).getId().equals(Uid)){\r\n                itemView.setOnCreateContextMenuListener(this);\r\n//               }\r\n\r\n                itemView.setClickable(true);\r\n                itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        db= FirebaseFirestore.getInstance();\r\n                        db.collection(\"board\").document();\r\n                        int pos = getAdapterPosition();\r\n                        if(pos != RecyclerView.NO_POSITION){\r\n                            Intent intent = new Intent(getApplicationContext(),SelectBoardActivity.class);\r\n                            intent.putExtra(\"title\",mBoardList.get(pos).getTitle());\r\n                            intent.putExtra(\"contents\",mBoardList.get(pos).getContents());\r\n                            intent.putExtra(\"id\",mBoardList.get(pos).getId());\r\n                            startActivity(intent);\r\n                            //Toast.makeText(getApplicationContext(),(pos+1) +\"번째 아이템 클릭\", Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n            @Override\r\n            public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo) {\r\n                    MenuItem Delete=menu.add(Menu.NONE,1001,1,\"삭제\");\r\n                    Delete.setOnMenuItemClickListener(onEditMenu);\r\n\r\n            }\r\n\r\n            public final MenuItem.OnMenuItemClickListener onEditMenu = new MenuItem.OnMenuItemClickListener() {\r\n                @Override\r\n                public boolean onMenuItemClick(MenuItem item) {\r\n\r\n                    switch(item.getItemId()){\r\n                        case 1001:\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n            };\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/animalapp/info/NoticeActivity.java	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/java/animalapp/info/NoticeActivity.java	(date 1615795065092)
@@ -10,9 +10,13 @@
 import android.app.Activity;
 import android.content.Context;
 import android.content.Intent;
+import android.graphics.Bitmap;
 import android.graphics.Color;
+import android.graphics.drawable.BitmapDrawable;
 import android.media.audiofx.NoiseSuppressor;
+import android.net.Uri;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.ContextMenu;
 import android.view.LayoutInflater;
 import android.view.Menu;
@@ -22,9 +26,11 @@
 import android.view.ViewGroup;
 import android.widget.AdapterView;
 import android.widget.Button;
+import android.widget.ImageView;
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.bumptech.glide.Glide;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
@@ -41,6 +47,7 @@
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
 
+import java.io.ByteArrayOutputStream;
 import java.util.ArrayList;
 import java.util.Dictionary;
 import java.util.List;
@@ -62,8 +69,8 @@
 
         mNoticeRecyclerView = (RecyclerView)findViewById(R.id.notice_recycler_view);
         notice_write_btn = (FloatingActionButton) findViewById(R.id.notice_write_btn);
-
         mLayoutmanager=new LinearLayoutManager(this);
+        mNoticeRecyclerView.setHasFixedSize(true);//추가
         mNoticeRecyclerView.setLayoutManager(mLayoutmanager);
 
 //        mBoardList.add(new Board(null,"반갑습니다 여러분",null,"android"));
@@ -98,8 +105,10 @@
                                 String id = (String) shot.get("id");
                                 String title = (String) shot.get("title");
                                 String contents = (String) shot.get("contents");
-                                Board data = new Board(id, title, contents);
+                                String view=(String)shot.get("view");
+                                Board data = new Board(id, title, contents, view);
 
+                                Log.d("hihi","사진값 " + view);
                                 mBoardList.add(data);
                             }
                             mNoticeAdapter = new NoticeAdapter(mBoardList);
@@ -133,8 +142,13 @@
         @Override
         public void onBindViewHolder(@NonNull NoticeAdapter.NoticeViewHolder holder, int position) {
             Board data = mBoardList.get(position);
+            Glide.with(holder.itemView.getContext())
+                    .load(mBoardList.get(position).getView())
+                    .into(holder.write_image);
             holder.mTitleTextView.setText(data.getTitle());
             holder.mNameTextView.setText("작성자 : "+data.getId());
+//            holder.write_image.setImageDrawable(data.getView()) ;
+
         }
 
         @Override
@@ -142,8 +156,9 @@
             return mBoardList.size();
         }
 
-        class NoticeViewHolder extends RecyclerView.ViewHolder implements View.OnCreateContextMenuListener{
+        public class NoticeViewHolder extends RecyclerView.ViewHolder implements View.OnCreateContextMenuListener{
 
+            private ImageView write_image;
             private TextView mTitleTextView;
             private TextView mNameTextView;
             public NoticeViewHolder(View itemView){
@@ -151,15 +166,16 @@
 
                 mTitleTextView = itemView.findViewById(R.id.notice_item_title_text);
                 mNameTextView = itemView.findViewById(R.id.notice_item_name_text);
+                write_image=itemView.findViewById(R.id.write_image);
 
-//               if(mBoardList.get(pos).getId().equals(Uid)){
                 itemView.setOnCreateContextMenuListener(this);
-//               }
+
 
                 itemView.setClickable(true);
                 itemView.setOnClickListener(new View.OnClickListener() {
                     @Override
                     public void onClick(View view) {
+
                         db= FirebaseFirestore.getInstance();
                         db.collection("board").document();
                         int pos = getAdapterPosition();
@@ -168,6 +184,7 @@
                             intent.putExtra("title",mBoardList.get(pos).getTitle());
                             intent.putExtra("contents",mBoardList.get(pos).getContents());
                             intent.putExtra("id",mBoardList.get(pos).getId());
+                            intent.putExtra("view",mBoardList.get(pos).getView());
                             startActivity(intent);
                             //Toast.makeText(getApplicationContext(),(pos+1) +"번째 아이템 클릭", Toast.LENGTH_LONG).show();
                         }
Index: app/src/main/java/animalapp/info/SelectBoardActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package animalapp.info;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.prolificinteractive.materialcalendarview.CalendarDay;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\npublic class SelectBoardActivity extends AppCompatActivity {\r\n\r\n    private EditText title;\r\n    private EditText contents;\r\n    private TextView id;\r\n    private Button select_board_btn_save, select_board_btn_del;\r\n    FirebaseAuth firebaseAuth;\r\n    FirebaseUser user;\r\n    FirebaseFirestore mStore;\r\n    String uid;\r\n    String id_v;\r\n    String doc;\r\n    String pet_Name;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_select_board);\r\n\r\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        uid = firebaseUser.getUid();\r\n\r\n\r\n        title = (EditText) findViewById(R.id.select_board_title_text);\r\n        contents = (EditText) findViewById(R.id.select_board_contents_text);\r\n        id = (TextView) findViewById(R.id.select_board_name_text);\r\n        select_board_btn_save = findViewById(R.id.select_board_btn_save);\r\n        select_board_btn_del = findViewById(R.id.select_board_btn_del);\r\n\r\n        Intent intent = getIntent();\r\n        title.setText(intent.getStringExtra(\"title\"));\r\n        contents.setText(intent.getStringExtra(\"contents\"));\r\n        id.setText(intent.getStringExtra(\"name\"));\r\n\r\n        user = FirebaseAuth.getInstance().getCurrentUser();//현재 접속하고 있는 유저\r\n        mStore = FirebaseFirestore.getInstance();\r\n\r\n\r\n//       mStore.collection(\"board\").get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>(){\r\n//\r\n//           @Override\r\n//           public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n//               if(task.isSuccessful()){\r\n//                   for(DocumentSnapshot documentSnapshot : task.getResult()){\r\n//                       id_v=(String)documentSnapshot.get(\"id\");\r\n////                       Log.d(\"a123\",pet_Name);\r\n//                   }\r\n//               }\r\n//           }\r\n//       });\r\n\r\n//            select_board_btn_del.setVisibility(View.VISIBLE);\r\n//            select_board_btn_save.setVisibility(View.VISIBLE);\r\n\r\n        select_board_btn_save.setVisibility(View.GONE);\r\n        select_board_btn_del.setVisibility(View.GONE);\r\n\r\n\r\n//        final String current = user.getEmail();\r\n//        mStore.collection(\"board\")//firestore users\r\n//                    .document().get().\r\n\r\n//                .get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n//            @Override\r\n//            public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n//                if (task.isSuccessful()) {\r\n//                    for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n//                        id_v = (String) documentSnapshot.get(\"email\");\r\n//                        Log.d(\"a123\", id_v);\r\n//                        Log.d(\"a1234\", user.getEmail());\r\n//                    }\r\n//                }\r\n//            }\r\n//        });\r\n//                .whereEqualTo(\"email\",current)//firestore id와 user email같은 곳?\r\n//                .get()//가져와\r\n//                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n//                    @Override\r\n//                    public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n//                        if(task.isSuccessful()){\r\n//                            for(DocumentSnapshot documentSnapshot : task.getResult()){\r\n//                                id_v=(String)documentSnapshot.get(\"email\");\r\n//                                Log.d(\"a123\",id_v);\r\n//                                Log.d(\"a1234\",user.getEmail());\r\n//                                if(user.getEmail().equals(id_v)){\r\n//                                    select_board_btn_del.setVisibility(View.VISIBLE);\r\n//                                    select_board_btn_save.setVisibility(View.VISIBLE);\r\n//                                }\r\n////                                else{\r\n////                                    select_board_btn_save.setVisibility(View.GONE);\r\n////                                    select_board_btn_del.setVisibility(View.GONE);\r\n////                                }\r\n//                            }\r\n//                        }\r\n//                    }\r\n//                });\r\n\r\n\r\n        select_board_btn_save.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                firebaseAuth = FirebaseAuth.getInstance();\r\n                if (firebaseAuth.getCurrentUser() != null) {\r\n                    Map<String, Object> board = new HashMap<>();\r\n                    board.put(\"title\", title.getText().toString());\r\n                    board.put(\"contents\", contents.getText().toString());\r\n\r\n                    mStore = FirebaseFirestore.getInstance();\r\n                    firebaseAuth = FirebaseAuth.getInstance();\r\n                    mStore = FirebaseFirestore.getInstance();\r\n                    mStore.collection(\"board\").whereEqualTo(\"title\", intent.getStringExtra(\"title\"))\r\n                            .get()\r\n                            .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                                            doc = documentSnapshot.getId();\r\n                                        }\r\n                                        if (firebaseAuth.getCurrentUser() != null) {\r\n                                            mStore = FirebaseFirestore.getInstance();\r\n                                            mStore.collection(\"board\").document(doc + \"\")\r\n                                                    .update(board)\r\n                                                    .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                                        @Override\r\n                                                        public void onSuccess(Void aVoid) {\r\n                                                            Toast.makeText(SelectBoardActivity.this, \"수정 성공\", Toast.LENGTH_SHORT).show();\r\n                                                            finish();\r\n                                                        }\r\n                                                    })\r\n                                                    .addOnFailureListener(new OnFailureListener() {\r\n                                                        @Override\r\n                                                        public void onFailure(@NonNull Exception e) {\r\n                                                            Toast.makeText(SelectBoardActivity.this, \"수정 실패\", Toast.LENGTH_SHORT).show();\r\n                                                        }\r\n                                                    });\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                            });\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        select_board_btn_del.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                firebaseAuth = FirebaseAuth.getInstance();\r\n                mStore = FirebaseFirestore.getInstance();\r\n                mStore.collection(\"board\").whereEqualTo(\"title\", intent.getStringExtra(\"title\"))\r\n                        .get()\r\n                        .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                                if (task.isSuccessful()) {\r\n                                    for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                                        doc = documentSnapshot.getId();\r\n                                    }\r\n                                    if (firebaseAuth.getCurrentUser() != null) {\r\n                                        mStore = FirebaseFirestore.getInstance();\r\n                                        mStore.collection(\"board\").document(doc + \"\")\r\n                                                .delete()\r\n                                                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                                                    @Override\r\n                                                    public void onSuccess(Void aVoid) {\r\n                                                        Toast.makeText(SelectBoardActivity.this, \"삭제 성공\", Toast.LENGTH_SHORT).show();\r\n                                                        finish();\r\n                                                    }\r\n                                                })\r\n                                                .addOnFailureListener(new OnFailureListener() {\r\n                                                    @Override\r\n                                                    public void onFailure(@NonNull Exception e) {\r\n                                                        Toast.makeText(SelectBoardActivity.this, \"삭제 실패\", Toast.LENGTH_SHORT).show();\r\n                                                    }\r\n                                                });\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/animalapp/info/SelectBoardActivity.java	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/java/animalapp/info/SelectBoardActivity.java	(date 1615801351140)
@@ -1,18 +1,26 @@
 package animalapp.info;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.loader.content.CursorLoader;
 
-import android.content.Context;
+import android.Manifest;
 import android.content.Intent;
+import android.database.Cursor;
+import android.net.Uri;
+import android.os.Build;
 import android.os.Bundle;
+import android.provider.MediaStore;
 import android.util.Log;
 import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
+import android.widget.ImageView;
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.bumptech.glide.Glide;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
@@ -22,29 +30,41 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.firestore.DocumentReference;
 import com.google.firebase.firestore.DocumentSnapshot;
+import com.google.firebase.firestore.FieldValue;
 import com.google.firebase.firestore.FirebaseFirestore;
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.storage.FirebaseStorage;
+import com.google.firebase.storage.StorageReference;
+import com.google.firebase.storage.UploadTask;
 import com.prolificinteractive.materialcalendarview.CalendarDay;
 
+import java.io.File;
 import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.Map;
 
+import io.grpc.Context;
+
 
 public class SelectBoardActivity extends AppCompatActivity {
 
     private EditText title;
     private EditText contents;
     private TextView id;
-    private Button select_board_btn_save, select_board_btn_del;
+    private Button select_board_btn_save, select_board_btn_del, select_board_btn_img;
+    private ImageView select_img_view;
     FirebaseAuth firebaseAuth;
     FirebaseUser user;
     FirebaseFirestore mStore;
     String uid;
-    String id_v;
     String doc;
-    String pet_Name;
+    Uri imgUri;
+    String getimage;
+    private FirebaseStorage storage;
+    private StorageReference imgRef;
+
+
 
 
     @Override
@@ -59,78 +79,27 @@
         title = (EditText) findViewById(R.id.select_board_title_text);
         contents = (EditText) findViewById(R.id.select_board_contents_text);
         id = (TextView) findViewById(R.id.select_board_name_text);
+        select_img_view = findViewById(R.id.select_img_view);
         select_board_btn_save = findViewById(R.id.select_board_btn_save);
         select_board_btn_del = findViewById(R.id.select_board_btn_del);
+        select_board_btn_img = findViewById(R.id.select_img_btn);
+
+
 
         Intent intent = getIntent();
         title.setText(intent.getStringExtra("title"));
         contents.setText(intent.getStringExtra("contents"));
         id.setText(intent.getStringExtra("name"));
+        getimage=intent.getExtras().getString("view");
+        storage = FirebaseStorage.getInstance();
+        Log.d("확인",getimage);
+        Glide.with(getApplicationContext()).load(getimage).into(select_img_view);
+
+
 
         user = FirebaseAuth.getInstance().getCurrentUser();//현재 접속하고 있는 유저
         mStore = FirebaseFirestore.getInstance();
 
-
-//       mStore.collection("board").get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>(){
-//
-//           @Override
-//           public void onComplete(@NonNull Task<QuerySnapshot> task) {
-//               if(task.isSuccessful()){
-//                   for(DocumentSnapshot documentSnapshot : task.getResult()){
-//                       id_v=(String)documentSnapshot.get("id");
-////                       Log.d("a123",pet_Name);
-//                   }
-//               }
-//           }
-//       });
-
-//            select_board_btn_del.setVisibility(View.VISIBLE);
-//            select_board_btn_save.setVisibility(View.VISIBLE);
-
-        select_board_btn_save.setVisibility(View.GONE);
-        select_board_btn_del.setVisibility(View.GONE);
-
-
-//        final String current = user.getEmail();
-//        mStore.collection("board")//firestore users
-//                    .document().get().
-
-//                .get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
-//            @Override
-//            public void onComplete(@NonNull Task<QuerySnapshot> task) {
-//                if (task.isSuccessful()) {
-//                    for (DocumentSnapshot documentSnapshot : task.getResult()) {
-//                        id_v = (String) documentSnapshot.get("email");
-//                        Log.d("a123", id_v);
-//                        Log.d("a1234", user.getEmail());
-//                    }
-//                }
-//            }
-//        });
-//                .whereEqualTo("email",current)//firestore id와 user email같은 곳?
-//                .get()//가져와
-//                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
-//                    @Override
-//                    public void onComplete(@NonNull Task<QuerySnapshot> task) {
-//                        if(task.isSuccessful()){
-//                            for(DocumentSnapshot documentSnapshot : task.getResult()){
-//                                id_v=(String)documentSnapshot.get("email");
-//                                Log.d("a123",id_v);
-//                                Log.d("a1234",user.getEmail());
-//                                if(user.getEmail().equals(id_v)){
-//                                    select_board_btn_del.setVisibility(View.VISIBLE);
-//                                    select_board_btn_save.setVisibility(View.VISIBLE);
-//                                }
-////                                else{
-////                                    select_board_btn_save.setVisibility(View.GONE);
-////                                    select_board_btn_del.setVisibility(View.GONE);
-////                                }
-//                            }
-//                        }
-//                    }
-//                });
-
-
         select_board_btn_save.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v) {
                 firebaseAuth = FirebaseAuth.getInstance();
@@ -138,8 +107,9 @@
                     Map<String, Object> board = new HashMap<>();
                     board.put("title", title.getText().toString());
                     board.put("contents", contents.getText().toString());
+                    //board.put("view")
+//                    board.put("view",select_img_view.ge)
 
-                    mStore = FirebaseFirestore.getInstance();
                     firebaseAuth = FirebaseAuth.getInstance();
                     mStore = FirebaseFirestore.getInstance();
                     mStore.collection("board").whereEqualTo("title", intent.getStringExtra("title"))
@@ -150,10 +120,13 @@
                                     if (task.isSuccessful()) {
                                         for (DocumentSnapshot documentSnapshot : task.getResult()) {
                                             doc = documentSnapshot.getId();
+                                            imgUri = Uri.parse((String) documentSnapshot.get("view"));
+                                            Glide.with(getApplicationContext()).load(imgUri).into(select_img_view);
                                         }
-                                        if (firebaseAuth.getCurrentUser() != null) {
-                                            mStore = FirebaseFirestore.getInstance();
-                                            mStore.collection("board").document(doc + "")
+                                        if(firebaseAuth.getCurrentUser()!=null)
+                                        {
+                                            mStore= FirebaseFirestore.getInstance();
+                                            mStore.collection("board").document(doc+"")
                                                     .update(board)
                                                     .addOnSuccessListener(new OnSuccessListener<Void>() {
                                                         @Override
@@ -177,6 +150,16 @@
             }
         });
 
+        select_board_btn_img.setOnClickListener(new View.OnClickListener(){
+            @Override
+            public void onClick(View v) {
+                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
+                    requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 10);
+                }
+                clickSelect();
+            }
+        });
+
 
         select_board_btn_del.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v) {
@@ -191,9 +174,10 @@
                                     for (DocumentSnapshot documentSnapshot : task.getResult()) {
                                         doc = documentSnapshot.getId();
                                     }
-                                    if (firebaseAuth.getCurrentUser() != null) {
-                                        mStore = FirebaseFirestore.getInstance();
-                                        mStore.collection("board").document(doc + "")
+                                    if(firebaseAuth.getCurrentUser()!=null)
+                                    {
+                                        mStore= FirebaseFirestore.getInstance();
+                                        mStore.collection("board").document(doc+"")
                                                 .delete()
                                                 .addOnSuccessListener(new OnSuccessListener<Void>() {
                                                     @Override
@@ -215,9 +199,46 @@
                         });
 
 
+
             }
         });
 
+
+    }
+
+    void clickSelect() {
+        //사진을 선탣할 수 있는 Gallery앱 실행
+        Intent intent = new Intent(Intent.ACTION_PICK);
+        intent.setType("image/*");
+        startActivityForResult(intent, 10);
+    }
+
+    @Override
+    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
+        super.onActivityResult(requestCode, resultCode, data);
+
+        switch (requestCode) {
+            case 1:
+                if (resultCode == RESULT_OK) {
+                    //선택한 이미지의 경로 얻어오기
+                    imgUri = data.getData();
+                    Glide.with(getApplicationContext()).load(imgUri).into(select_img_view);
+                    Log.d("확인222", String.valueOf(imgUri));
+                }
+                break;
+        }
+    }
+
+    public String getPath(Uri uri) {
+        String[] proj = {MediaStore.Images.Media.DATA};
+        CursorLoader cursorLoader = new CursorLoader(this, uri, proj, null, null, null);
+        Cursor cursor = cursorLoader.loadInBackground();
+
+        int index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
+
+        cursor.moveToFirst();
+
+        return cursor.getString(index);
     }
 }
 
Index: app/src/main/java/animalapp/info/WriteActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package animalapp.info;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport org.w3c.dom.Document;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class WriteActivity extends AppCompatActivity {\r\n\r\n    private FirebaseFirestore mStore = FirebaseFirestore.getInstance();\r\n    private FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();\r\n    private FirebaseUser user = firebaseAuth.getCurrentUser();\r\n\r\n    private EditText mWriteTitleText;\r\n    private EditText mWriteContentsText;\r\n    private TextView mWriteNameText;\r\n    private Button mWrite_upload_btn;\r\n\r\n    private String id;\r\n    private String key=\"1\";\r\n    private int i = 1;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_write);\r\n\r\n        mWriteTitleText = findViewById(R.id.write_title_text);\r\n        mWriteContentsText = findViewById(R.id.write_contents_text);\r\n        mWriteNameText = findViewById(R.id.write_name_text);\r\n        mWrite_upload_btn = findViewById(R.id.write_upload_btn);\r\n\r\n        final String current= user.getEmail();//로그인할 때 그 이메일 가져옴\r\n\r\n        mStore.collection(\"users\")//firestore users\r\n                .whereEqualTo(\"id\",current)//firestore id와 user email같은 곳?\r\n                .get()//가져와\r\n                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                        if(task.isSuccessful()){\r\n                            for(DocumentSnapshot documentSnapshot : task.getResult()){\r\n\r\n                                id = (String)documentSnapshot.get(\"pet_name\");\r\n                            }\r\n                        }\r\n                        mWriteNameText.setText(\"작성자 : \"+id);\r\n                    }\r\n                });\r\n\r\n        mStore.collection(\"board\").get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                for(DocumentSnapshot snapshot : queryDocumentSnapshots.getDocuments()){\r\n                    i++;\r\n                    key = Integer.toString(i);\r\n                    Toast.makeText(WriteActivity.this,\"성공\",Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(WriteActivity.this,\"실패\",Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n        mWrite_upload_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(firebaseAuth.getCurrentUser() != null){\r\n                    Map<String, Object> post = new HashMap<>();\r\n                    post.put(\"id\",id);\r\n                    post.put(\"title\",mWriteTitleText.getText().toString());\r\n                    post.put(\"contents\",mWriteContentsText.getText().toString());\r\n                    post.put(\"time\", FieldValue.serverTimestamp());\r\n                    post.put(\"UID\",firebaseAuth.getUid());\r\n                    post.put(\"key\",key);\r\n                    post.put(\"email\",firebaseAuth.getCurrentUser().getEmail());\r\n\r\n                    mStore.collection(\"board\").add(post)\r\n                            .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                                @Override\r\n                                public void onSuccess(DocumentReference documentReference) {\r\n                                    Toast.makeText(WriteActivity.this,\"업로드 성공\",Toast.LENGTH_SHORT).show();\r\n                                    finish();\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(WriteActivity.this, \"업로드 실패\", Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/animalapp/info/WriteActivity.java	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/java/animalapp/info/WriteActivity.java	(date 1615708398099)
@@ -1,15 +1,27 @@
 package animalapp.info;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.loader.content.CursorLoader;
 
+import android.Manifest;
+import android.content.Intent;
+import android.database.Cursor;
+import android.net.Uri;
+import android.os.Build;
 import android.os.Bundle;
+import android.provider.MediaStore;
+import android.util.Log;
 import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
+import android.widget.ImageButton;
+import android.widget.ImageView;
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.bumptech.glide.Glide;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
@@ -21,9 +33,13 @@
 import com.google.firebase.firestore.FieldValue;
 import com.google.firebase.firestore.FirebaseFirestore;
 import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.storage.FirebaseStorage;
+import com.google.firebase.storage.StorageReference;
+import com.google.firebase.storage.UploadTask;
 
 import org.w3c.dom.Document;
 
+import java.io.File;
 import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.List;
@@ -31,7 +47,7 @@
 
 public class WriteActivity extends AppCompatActivity {
 
-    private FirebaseFirestore mStore = FirebaseFirestore.getInstance();
+    private FirebaseFirestore mStore;
     private FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();
     private FirebaseUser user = firebaseAuth.getCurrentUser();
 
@@ -39,7 +55,13 @@
     private EditText mWriteContentsText;
     private TextView mWriteNameText;
     private Button mWrite_upload_btn;
+    //
+    private FirebaseStorage storage = FirebaseStorage.getInstance();
+    private StorageReference imgRef;
+    Uri imgUri;
 
+    private ImageView mWrite_img_view;
+    private Button mWrite_img_btn;
     private String id;
     private String key="1";
     private int i = 1;
@@ -55,9 +77,13 @@
         mWriteContentsText = findViewById(R.id.write_contents_text);
         mWriteNameText = findViewById(R.id.write_name_text);
         mWrite_upload_btn = findViewById(R.id.write_upload_btn);
+        mWrite_img_btn = findViewById(R.id.write_img_btn);
+        mWrite_img_view=findViewById(R.id.write_img_view);
+
 
         final String current= user.getEmail();//로그인할 때 그 이메일 가져옴
 
+        mStore = FirebaseFirestore.getInstance();
         mStore.collection("users")//firestore users
                 .whereEqualTo("id",current)//firestore id와 user email같은 곳?
                 .get()//가져와
@@ -74,6 +100,7 @@
                     }
                 });
 
+        mStore = FirebaseFirestore.getInstance();
         mStore.collection("board").get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
             @Override
             public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
@@ -91,38 +118,111 @@
                     }
                 });
 
+
         mWrite_upload_btn.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                if(firebaseAuth.getCurrentUser() != null){
-                    Map<String, Object> post = new HashMap<>();
-                    post.put("id",id);
-                    post.put("title",mWriteTitleText.getText().toString());
-                    post.put("contents",mWriteContentsText.getText().toString());
-                    post.put("time", FieldValue.serverTimestamp());
-                    post.put("UID",firebaseAuth.getUid());
-                    post.put("key",key);
-                    post.put("email",firebaseAuth.getCurrentUser().getEmail());
+
+                imgRef = storage.getReferenceFromUrl("gs://animalapp-cadbb.appspot.com/board");
+
+                imgRef = storage.getReference();
+                Uri file = Uri.fromFile(new File(getPath(imgUri))); // 절대경로uri를 file에 할당
+
+                // stroage images에 절대경로파일 저장
+                StorageReference riversRef = imgRef.child("board/" + file.getLastPathSegment());
+                UploadTask uploadTask = riversRef.putFile(file);
+
+                // Register observers to listen for when the download is done or if it fails
+                uploadTask.addOnFailureListener(new OnFailureListener() {
+                    @Override
+                    public void onFailure(@NonNull Exception exception) {
+                        // Handle unsuccessful uploads
+                    }
+                })
+                        .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
+                            @Override
+                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
+                                Task<Uri> uri = taskSnapshot.getStorage().getDownloadUrl();
+                                while (!uri.isComplete()) ;
+                                Uri uri1 = uri.getResult();
+
+                                String mWrite_board = String.valueOf(uri1);
+
+                                Map<String, Object> post = new HashMap<>();
+                                post.put("id",id);
+                                post.put("title",mWriteTitleText.getText().toString());
+                                post.put("contents",mWriteContentsText.getText().toString());
+                                post.put("time", FieldValue.serverTimestamp());
+                                post.put("UID",firebaseAuth.getUid());
+                                post.put("key",key);
+                                post.put("view",mWrite_board);
+                                Log.d("hihi",mWrite_board);
 
-                    mStore.collection("board").add(post)
-                            .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {
-                                @Override
-                                public void onSuccess(DocumentReference documentReference) {
-                                    Toast.makeText(WriteActivity.this,"업로드 성공",Toast.LENGTH_SHORT).show();
-                                    finish();
-                                }
-                            })
-                            .addOnFailureListener(new OnFailureListener() {
-                                @Override
-                                public void onFailure(@NonNull Exception e) {
-                                    Toast.makeText(WriteActivity.this, "업로드 실패", Toast.LENGTH_SHORT).show();
-                                }
-                            });
-                }
+                                mStore = FirebaseFirestore.getInstance();
+                                mStore.collection("board").add(post)
+                                        .addOnSuccessListener(new OnSuccessListener<DocumentReference>() {
+                                            @Override
+                                            public void onSuccess(DocumentReference documentReference) {
+                                                Toast.makeText(WriteActivity.this,"업로드 성공",Toast.LENGTH_SHORT).show();
+                                                finish();
+                                            }
+                                        })
+                                        .addOnFailureListener(new OnFailureListener() {
+                                            @Override
+                                            public void onFailure(@NonNull Exception e) {
+                                                Toast.makeText(WriteActivity.this, "업로드 실패", Toast.LENGTH_SHORT).show();
+                                            }
+                                        });
+                            }
+                        });
             }
         });
 
+        mWrite_img_btn.setOnClickListener(new View.OnClickListener(){
+            @Override
+            public void onClick(View v) {
+                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
+                    requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 10);
+                }
+                clickSelect();
+            }
+        });
+
+
+
+    }
+
+    void clickSelect() {
+        //사진을 선탣할 수 있는 Gallery앱 실행
+        Intent intent = new Intent(Intent.ACTION_PICK);
+        intent.setType("image/*");
+        startActivityForResult(intent, 10);
+    }
 
+    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
+        super.onActivityResult(requestCode, resultCode, data);
 
+        switch (requestCode) {
+            case 10:
+                if (resultCode == RESULT_OK) {
+                    //선택한 이미지의 경로 얻어오기
+                    imgUri = data.getData();
+                    Glide.with(this).load(imgUri).into(mWrite_img_view);
+                }
+                break;
+        }
+    }
+
+
+    public String getPath(Uri uri) {
+        String[] proj = {MediaStore.Images.Media.DATA};
+        CursorLoader cursorLoader = new CursorLoader(this, uri, proj, null, null, null);
+        Cursor cursor = cursorLoader.loadInBackground();
+
+        int index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
+
+        cursor.moveToFirst();
+
+        return cursor.getString(index);
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/item_noice.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"7dp\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    app:cardCornerRadius=\"2dp\"\r\n    app:cardMaxElevation=\"2dp\"\r\n    app:cardPreventCornerOverlap=\"true\"\r\n    app:cardUseCompatPadding=\"true\"\r\n    app:cardElevation=\"2dp\">\r\n\r\n    <LinearLayout\r\n        android:layout_margin=\"8dp\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\">\r\n\r\n    <TextView\r\n        android:layout_margin=\"8dp\"\r\n        android:id=\"@+id/notice_item_title_text\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"반갑습니다 여러분\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@color/black\"/>\r\n\r\n    <TextView\r\n        android:layout_margin=\"8dp\"\r\n        android:id=\"@+id/notice_item_name_text\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Name\"\r\n        android:textSize=\"12sp\"\r\n        android:gravity=\"center\"\r\n        android:drawableStart=\"@drawable/ic_baseline_person_24\"\r\n        android:drawableLeft=\"@drawable/ic_baseline_person_24\" />\r\n\r\n\r\n    </LinearLayout>\r\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/item_noice.xml	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/res/layout/item_noice.xml	(date 1615724345027)
@@ -1,42 +1,63 @@
 <?xml version="1.0" encoding="utf-8"?>
 <androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:layout_margin="7dp"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
     app:cardCornerRadius="2dp"
+    app:cardElevation="2dp"
     app:cardMaxElevation="2dp"
     app:cardPreventCornerOverlap="true"
-    app:cardUseCompatPadding="true"
-    app:cardElevation="2dp">
+    app:cardUseCompatPadding="true">
 
     <LinearLayout
-        android:layout_margin="8dp"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:orientation="vertical">
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal">
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
+
+            <ImageView
+                android:id="@+id/write_image"
+                android:layout_width="100dp"
+                android:layout_height="100dp"
+                android:scaleType="fitCenter"
+                android:src="@mipmap/ic_launcher" />
+        </LinearLayout>
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_margin="8dp"
+            android:orientation="vertical">
 
-    <TextView
-        android:layout_margin="8dp"
-        android:id="@+id/notice_item_title_text"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="반갑습니다 여러분"
-        android:textSize="20sp"
-        android:textStyle="bold"
-        android:textColor="@color/black"/>
+            <TextView
+                android:id="@+id/notice_item_title_text"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_margin="8dp"
+                android:text="반갑습니다 여러분"
+                android:textColor="@color/black"
+                android:textSize="20sp"
+                android:textStyle="bold" />
 
-    <TextView
-        android:layout_margin="8dp"
-        android:id="@+id/notice_item_name_text"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Name"
-        android:textSize="12sp"
-        android:gravity="center"
-        android:drawableStart="@drawable/ic_baseline_person_24"
-        android:drawableLeft="@drawable/ic_baseline_person_24" />
+            <TextView
+                android:id="@+id/notice_item_name_text"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_margin="8dp"
+                android:drawableStart="@drawable/ic_baseline_person_24"
+                android:drawableLeft="@drawable/ic_baseline_person_24"
+                android:gravity="center"
+                android:text="Name"
+                android:textSize="12sp" />
 
+
+        </LinearLayout>
 
     </LinearLayout>
+
 </androidx.cardview.widget.CardView>
\ No newline at end of file
Index: app/src/main/java/animalapp/info/Board.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package animalapp.info;\r\n\r\nimport android.provider.ContactsContract;\r\n\r\nimport com.google.firebase.firestore.ServerTimestamp;\r\n\r\npublic class Board {\r\n\r\n    private String id;\r\n    private String title;\r\n    private String contents;\r\n    private String Uid;\r\n    private String key;\r\n    private String email;\r\n    @ServerTimestamp\r\n    private ContactsContract.Data data;\r\n\r\n    public Board(){\r\n    }\r\n\r\n    public Board(String id, String title, String contents) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.contents = contents;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getContents() {\r\n        return contents;\r\n    }\r\n\r\n    public void setContents(String contents) {\r\n        this.contents = contents;\r\n    }\r\n\r\n    public String getUid() {\r\n        return Uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        Uid = uid;\r\n    }\r\n\r\n    public ContactsContract.Data getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(ContactsContract.Data data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"Board{\" +\r\n                \"id='\" + id + '\\'' +\r\n                \", title='\" + title + '\\'' +\r\n                \", contents='\" + contents + '\\'' +\r\n                \", Uid='\" + Uid + '\\'' +\r\n                \", key='\" + key + '\\'' +\r\n                \", email='\" + email + '\\'' +\r\n                \", data=\" + data +\r\n                '}';\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/animalapp/info/Board.java	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/java/animalapp/info/Board.java	(date 1615705741854)
@@ -1,5 +1,6 @@
 package animalapp.info;
 
+import android.net.Uri;
 import android.provider.ContactsContract;
 
 import com.google.firebase.firestore.ServerTimestamp;
@@ -12,16 +13,27 @@
     private String Uid;
     private String key;
     private String email;
+    private String view;
     @ServerTimestamp
     private ContactsContract.Data data;
 
     public Board(){
     }
 
-    public Board(String id, String title, String contents) {
+
+    public Board(String id, String title, String contents, String view) {
         this.id = id;
         this.title = title;
         this.contents = contents;
+        this.view=view;
+    }
+
+    public String getView() {
+        return view;
+    }
+
+    public void setView(String view) {
+        this.view = view;
     }
 
     public String getId() {
@@ -89,6 +101,7 @@
                 ", Uid='" + Uid + '\'' +
                 ", key='" + key + '\'' +
                 ", email='" + email + '\'' +
+                ", view='" + view + '\'' +
                 ", data=" + data +
                 '}';
     }
Index: app/src/main/res/layout/activity_write.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".WriteActivity\"\r\n    android:padding=\"30dp\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView6\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:gravity=\"center_horizontal\"\r\n        android:text=\"글쓰기\"\r\n        android:textAlignment=\"center\"\r\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Display2\" />\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <Button\r\n                android:id=\"@+id/write_upload_btn\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"right\"\r\n                android:text=\"업로드\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/write_title_text\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:hint=\"Title\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"24sp\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/write_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"pet_naem\"\r\n                android:textSize=\"14sp\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/write_contents_text\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:hint=\"Contents\"\r\n                android:textSize=\"18sp\" />\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_write.xml	(revision 7bbc117126beac41b2269e1a72c0e7b2d35b632c)
+++ app/src/main/res/layout/activity_write.xml	(date 1615532659378)
@@ -27,12 +27,25 @@
             android:layout_height="wrap_content"
             android:orientation="vertical">
 
-            <Button
-                android:id="@+id/write_upload_btn"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_gravity="right"
-                android:text="업로드" />
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="horizontal">
+
+                <Button
+                    android:id="@+id/write_img_btn"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="사진선택" />
+
+                <Button
+                    android:id="@+id/write_upload_btn"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="right"
+                    android:text="업로드" />
+            </LinearLayout>
+
         </LinearLayout>
 
         <LinearLayout
@@ -62,6 +75,12 @@
             android:layout_height="match_parent"
             android:orientation="vertical">
 
+            <ImageView
+                android:id="@+id/write_img_view"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                app:srcCompat="@drawable/dogfoot" />
+
             <EditText
                 android:id="@+id/write_contents_text"
                 android:layout_width="match_parent"
